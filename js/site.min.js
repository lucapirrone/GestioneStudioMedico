/*
formBuilder - http://kevinchappell.github.io/formBuilder/
Version: 1.24.5
Author: Kevin Chappell <kevin.b.chappell@gmail.com>
*/
"use strict";var isSite=-1!==window.location.href.indexOf("formbuilder.online");isSite&&"https:"!==window.location.protocol&&(window.location.protocol="https:"),window.hljs.initHighlightingOnLoad(),document.addEventListener("viewData",function(){var t=document.querySelector(".data-dialog code");window.hljs.highlightBlock(t)},!1),isSite&&(((window.gitter={}).chat={}).options={room:"kevinchappell/formBuilder"},function(t){var e;e=t.createElement("script"),e.src="//sidecar.gitter.im/dist/sidecar.v1.js",t.body.appendChild(e)}(document),function(t,e,i){var o,n=t.getElementsByTagName(e)[0];t.getElementById(i)||(o=t.createElement(e),o.id=i,o.src="//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.5&appId=940846562669162",n.parentNode.insertBefore(o,n))}(document,"script","facebook-jssdk"),function(t,e,i){var o,n=t.getElementsByTagName(e)[0],r=/^http:/.test(t.location)?"http":"https";t.getElementById(i)||(o=t.createElement(e),o.id=i,o.src=r+"://platform.twitter.com/widgets.js",n.parentNode.insertBefore(o,n))}(document,"script","twitter-wjs"));
"use strict";var markup=function(e){var t=Object.assign({tag:"article",attrs:{},children:""},e),n=document.createElement(t.tag);n.innerHTML=t.children;for(var r in t.attrs)t.attrs.hasOwnProperty(r)&&n.setAttribute(r,t.attrs[r]);return n},toast=function(e){e=Object.assign({type:"success",msg:""},e);var t=document.createElement("div"),n=document.createTextNode(e.msg);t.classList.add("toast"),t.classList.add(e.type),t.appendChild(n),document.body.appendChild(t),setTimeout(function(){document.body.removeChild(t)},2500)},formatPost=function(e){var t=["<article>"];t.push('<h3><a href="'+e.link+'">'+e.title.rendered+"</a></h3>");var n=new Date(e.date).toLocaleDateString("en-US",{weekday:"short",year:"numeric",month:"long",day:"numeric"});return t.push("<em>"+n+"</em>"),t.push(e.niceExcerpt),t.push("</article>"),t.join("")},buildForm=document.querySelector(".build-form"),renderedForm=document.getElementById("rendered-form"),contributors=document.getElementById("contributors"),langSelect=document.getElementById("setLanguage"),contributorsWrap=contributors.parentElement;jQuery(function(e){var t=e(buildForm),n=e(document.getElementById("render-form-button")),r=e(document.getElementById("news-open")),o=e(document.getElementById("news-wrap")),a=window.sessionStorage.getItem("formBuilder-locale"),i=!i,l={fieldRemoveWarn:!0,onSave:function(t,n){d(),e(renderedForm).formRender({formData:n})},stickyControls:{enable:!0},i18n:{location:"assets/lang/"}};a&&(langSelect.value=a,l.i18n.locale=a);var c=t.formBuilder(l);langSelect.addEventListener("change",function(e){window.sessionStorage.setItem("formBuilder-locale",e.target.value),c.actions.setLang(e.target.value)});var d=function(){document.body.classList.toggle("form-rendered",i),i=!i};n.click(function(){d()}),r.click(function(){e.ajax({url:"https://kevin-chappell.com/wp-json/wp/v2/posts?per_page=3&categories=81",type:"GET",dataType:"json"}).done(function(t){var n=this;o.empty();for(var r=0;r<t.length;r++)o.append(formatPost(t[r]));o.dialog({width:1080,modal:!0,create:function(){e(n).css({maxHeight:window.innerHeight-100})},title:"News",show:{effect:"fade",duration:333},hide:{effect:"fade",duration:333}})}).fail(function(e){console.error(e),o.append('<h2 class="danger">Could not load news</h2>')})}),window.location.hash&&r.trigger("click"),window.innerWidth>481?e.ajax({url:"https://api.github.com/repos/kevinchappell/formBuilder/contributors",type:"GET",dataType:"json"}).done(function(t){for(var n=0;n<6;n++)e.ajax({url:"https://api.github.com/users/"+t[n].login,type:"GET",dataType:"json"}).done(function(e){var t="";e.location&&(t='<em class="user-location">'+e.location+"</em>");var n='<a href="'+e.html_url+'" target="_blank" class="avatar-link"><img src="'+e.avatar_url+'&s=260" alt="'+e.login+'"></a><h4><a href="'+e.html_url+'" target="_blank">'+(e.name||e.login)+"</a></h4>"+t;contributors.appendChild(markup({tag:"article",children:n,attrs:{class:"contributor"}}))});contributors.appendChild(markup({tag:"a",children:"View All",attrs:{target:"_blank",class:"btn btn-default btn-sm view-all",href:"https://github.com/kevinchappell/formBuilder/graphs/contributors",role:"button"}}))}).fail(function(e){console.error(e),contributorsWrap.parentElement.removeChild(contributorsWrap)}):contributorsWrap.parentElement.removeChild(contributorsWrap),document.addEventListener("modalOpened",function(){var e=document.querySelector(".form-builder-dialog"),t=document.createElement("button");t.classList.add("btn-default"),t.classList.add("btn"),t.id="copyDataBtn",t.innerHTML="Copy Data",e.appendChild(t),new window.Clipboard(t,{text:function(){return toast({msg:"formData copied to clipboard."}),c.formData}})},!1),new window.Clipboard(document.getElementById("copy-html"),{text:function(){return toast({msg:"Form HTML successfully copied to clipboard."}),renderedForm.outerHTML}})});